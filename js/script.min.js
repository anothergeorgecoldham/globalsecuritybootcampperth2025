class GSBConference{constructor(){this.init()}init(){this.bindEvents(),this.initializeComponents(),this.handlePreloader(),this.initScrollEffects(),this.initFormValidation()}bindEvents(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.onDOMReady()):this.onDOMReady(),window.addEventListener("scroll",this.throttle(this.onScroll.bind(this),16)),window.addEventListener("resize",this.debounce(this.onResize.bind(this),250)),window.addEventListener("load",()=>this.onWindowLoad())}onDOMReady(){this.initSmoothScrolling(),this.initBackToTop(),this.initNavbarToggle(),this.initAnimations(),this.initInteractiveElements(),this.loadSpeakersFromSessionize(),this.loadSessionsFromSessionize()}onWindowLoad(){this.hidePreloader(),this.initParallax()}onScroll(){this.updateNavbar(),this.updateBackToTop(),this.handleScrollAnimations()}onResize(){this.handleResponsiveElements()}throttle(e,t){let s,n=0;return function(...o){const i=Date.now();i-n>t?(e.apply(this,o),n=i):(clearTimeout(s),s=setTimeout(()=>{e.apply(this,o),n=Date.now()},t-(i-n)))}}debounce(e,t){let s;return function(...n){clearTimeout(s),s=setTimeout(()=>e.apply(this,n),t)}}handlePreloader(){const e=document.getElementById("preloader");if(e){const t=1e3,s=Date.now(),n=()=>{const n=Date.now()-s,o=Math.max(0,t-n);setTimeout(()=>{e.style.opacity="0",e.style.visibility="hidden",setTimeout(()=>e.remove(),300)},o)};"complete"===document.readyState?n():window.addEventListener("load",n)}}hidePreloader(){const e=document.getElementById("preloader");e&&(e.style.opacity="0",e.style.visibility="hidden",setTimeout(()=>e.remove(),300))}initializeComponents(){this.initCounters(),this.initTabsNavigation(),this.initFormHandling()}updateNavbar(){const e=document.querySelector(".navbar"),t=window.pageYOffset||document.documentElement.scrollTop;e&&(t>100?e.classList.add("scrolled"):e.classList.remove("scrolled")),this.updateActiveNavLinks()}updateActiveNavLinks(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".navbar-nav .nav-link");let s="";const n=window.pageYOffset+100;e.forEach(e=>{const t=e.offsetTop,o=e.offsetHeight;n>=t&&n<t+o&&(s=e.getAttribute("id"))}),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${s}`&&e.classList.add("active")})}initNavbarToggle(){const e=document.querySelector(".navbar-toggler"),t=document.querySelector(".navbar-collapse");document.querySelectorAll(".navbar-nav .nav-link").forEach(e=>{e.addEventListener("click",()=>{if(t&&t.classList.contains("show")){new bootstrap.Collapse(t).hide()}})}),document.addEventListener("click",s=>{if(t&&t.classList.contains("show")&&!e.contains(s.target)&&!t.contains(s.target)){new bootstrap.Collapse(t).hide()}})}initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const s=e.getAttribute("href");if("#"===s)return;const n=document.querySelector(s);n&&(t.preventDefault(),this.scrollToElement(n))})})}scrollToElement(e,t=70){const s=e.offsetTop-t;window.scrollTo({top:s,behavior:"smooth"})}initBackToTop(){const e=document.getElementById("backToTop");e&&e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})}updateBackToTop(){const e=document.getElementById("backToTop"),t=window.pageYOffset||document.documentElement.scrollTop;e&&(t>300?e.classList.add("show"):e.classList.remove("show"))}initCounters(){const e=document.querySelectorAll(".stat-number"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.animateCounter(e.target),t.unobserve(e.target))})},{threshold:.7,rootMargin:"0px 0px -100px 0px"});e.forEach(e=>{t.observe(e)})}animateCounter(e){const t=parseInt(e.textContent.replace(/\D/g,"")),s=e.textContent.replace(/\d/g,""),n=t/60;let o=0;const i=setInterval(()=>{o+=n,o>=t?(e.textContent=t+s,clearInterval(i)):e.textContent=Math.floor(o)+s},2e3/60)}initTabsNavigation(){const e=document.querySelectorAll("#agendaTabs .nav-link");e.forEach(t=>{t.addEventListener("click",s=>{s.preventDefault(),e.forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-pane").forEach(e=>{e.classList.remove("show","active")}),t.classList.add("active");const n=t.getAttribute("data-bs-target"),o=document.querySelector(n);o&&o.classList.add("show","active")})})}initFormHandling(){this.initContactForm(),this.initNewsletterForm()}initFormValidation(){document.querySelectorAll("form[novalidate]").forEach(e=>{e.addEventListener("submit",t=>{e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")})})}initContactForm(){const e=document.getElementById("contactForm");e&&e.addEventListener("submit",async t=>{t.preventDefault(),e.checkValidity()&&await this.handleContactFormSubmission(e)})}async handleContactFormSubmission(e){const t=e.querySelector('button[type="submit"]'),s=t.textContent;try{t.disabled=!0,t.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Sending...',await this.simulateFormSubmission(e),this.showFormMessage("success","Thank you! Your message has been sent successfully."),e.reset(),e.classList.remove("was-validated")}catch(e){this.showFormMessage("error","Sorry, there was an error sending your message. Please try again."),console.error("Form submission error:",e)}finally{t.disabled=!1,t.textContent=s}}async simulateFormSubmission(e){return new Promise((e,t)=>{setTimeout(()=>{Math.random()>.1?e():t(new Error("Simulated error"))},2e3)})}showFormMessage(e,t){document.querySelectorAll(".form-message").forEach(e=>e.remove());const s=document.createElement("div");s.className=`alert alert-${"success"===e?"success":"danger"} form-message mt-3`,s.innerHTML=`\n            <i class="fas fa-${"success"===e?"check-circle":"exclamation-circle"} me-2"></i>\n            ${t}\n        `;document.getElementById("contactForm").appendChild(s),setTimeout(()=>{s.style.opacity="0",setTimeout(()=>s.remove(),300)},5e3)}initNewsletterForm(){const e=document.querySelector(".newsletter-form");e&&e.addEventListener("submit",async t=>{t.preventDefault();const s=e.querySelector('input[type="email"]'),n=e.querySelector('button[type="submit"]');if(s.checkValidity()){const e=n.textContent;try{n.disabled=!0,n.textContent="Subscribing...",await new Promise(e=>setTimeout(e,1500)),n.textContent="Subscribed!",n.classList.remove("btn-primary"),n.classList.add("btn-success"),s.value="",setTimeout(()=>{n.disabled=!1,n.textContent=e,n.classList.remove("btn-success"),n.classList.add("btn-primary")},3e3)}catch(e){n.disabled=!1,n.textContent="Error",console.error("Newsletter subscription error:",e)}}})}initAnimations(){this.initScrollAnimations(),this.initHoverEffects()}initScrollAnimations(){const e=document.querySelectorAll([".speaker-card",".pricing-card",".timeline-item",".partner-logo",".about-stats",".info-card"].join(", ")),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)",t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach((e,s)=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition=`opacity 0.6s ease ${.1*s}s, transform 0.6s ease ${.1*s}s`,t.observe(e)})}handleScrollAnimations(){this.updateParallaxElements()}initHoverEffects(){document.querySelectorAll(".speaker-card").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-10px) scale(1.02)"}),e.addEventListener("mouseleave",()=>{e.style.transform="translateY(0) scale(1)"})})}initInteractiveElements(){this.initSpeakerCards(),this.initSessionCards(),this.initSessionModal(),this.initSpeakerModal()}async initSpeakerCards(){const e=document.querySelectorAll(".speaker-card.clickable");if(!this.sessionizeData||!this.sessionizeData.speakers)try{const e=await fetch("https://sessionize.com/api/v2/2arq0ql8/view/All");this.sessionizeData=await e.json()}catch(e){console.error("Error fetching Sessionize data for speaker cards:",e)}const t=this.sessionizeData&&this.sessionizeData.speakers?this.sessionizeData.speakers:[],s={};t.forEach(e=>{let t=e.fullName.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");s[t]=e}),e.forEach(e=>{const t=e.dataset.speakerId,n=s[t];if(n){const t=e.querySelector(".speaker-image img");t&&n.profilePicture&&(t.src=n.profilePicture,t.alt=n.fullName||t.alt);const s=e.querySelector("h4");s&&n.fullName&&(s.textContent=n.fullName);const o=e.querySelector(".speaker-title");o&&n.tagLine&&(o.textContent=n.tagLine);const i=e.querySelector(".speaker-topic");i&&n.sessions&&n.sessions.length>0&&(i.textContent=n.sessions[0].name);const a=e.querySelector(".speaker-bio");a&&n.bio&&(a.innerHTML=n.bio)}else e.style.display="none";e.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),t&&this.showSpeakerModal(t,e)})})}initSpeakerModal(){document.getElementById("speakerModal")||this.createSpeakerModal(),document.addEventListener("click",e=>{const t=document.getElementById("speakerModal");t&&e.target===t&&this.hideSpeakerModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideSpeakerModal()})}createSpeakerModal(){document.body.insertAdjacentHTML("beforeend",'\n            <div id="speakerModal" class="speaker-modal" style="display: none;">\n                <div class="speaker-modal-content">\n                    <div class="speaker-modal-header">\n                        <div class="speaker-modal-image">\n                            <img id="speakerModalImage" src="" alt="" class="img-fluid">\n                        </div>\n                        <div class="speaker-modal-title">\n                            <h4 id="speakerModalName"></h4>\n                            <p id="speakerModalTitle" class="speaker-position"></p>\n                            <p id="speakerModalTopic" class="speaker-session-topic"></p>\n                        </div>\n                        <button type="button" class="btn-close" onclick="gsbConference.hideSpeakerModal()"></button>\n                    </div>\n                    <div class="speaker-modal-body">\n                        <div id="speakerModalBio"></div>\n                    </div>\n                </div>\n            </div>\n        ')}async showSpeakerModal(e,t){const s=document.getElementById("speakerModal"),n=document.getElementById("speakerModalImage"),o=document.getElementById("speakerModalName"),i=document.getElementById("speakerModalTitle"),a=document.getElementById("speakerModalTopic"),r=document.getElementById("speakerModalBio");if(!(s&&n&&o&&i&&a&&r))return void console.error("Speaker modal elements not found");let l=null;try{if(!this.sessionizeData||!this.sessionizeData.speakers){const e=await fetch("https://sessionize.com/api/v2/2arq0ql8/view/All");this.sessionizeData=await e.json()}l=this.sessionizeData.speakers.find(t=>t.id===e)}catch(e){console.error("Error fetching speaker data from Sessionize API:",e)}try{if(l){n.src=l.profilePicture||"",n.alt=l.fullName||"",o.textContent=l.fullName||"",i.textContent=l.tagLine||"";let t="";if(l.sessions&&l.sessions.length>0&&this.sessionizeData.sessions){const s=this.sessionizeData.sessions.find(t=>t.speakers&&t.speakers.includes(e));s&&s.title&&(t=s.title)}a.textContent=t,l.bio?r.innerHTML=l.bio:r.innerHTML="<p>Biography information will be available soon.</p>"}else{const e=t.querySelector(".speaker-image img"),s=t.querySelector("h4"),l=t.querySelector(".speaker-title"),c=t.querySelector(".speaker-topic"),d=t.querySelector(".speaker-bio");e&&(n.src=e.src,n.alt=e.alt),s&&(o.textContent=s.textContent),l&&(i.textContent=l.textContent),c&&(a.textContent=c.textContent),r.innerHTML=d?d.innerHTML:"<p>Biography information will be available soon.</p>"}s.style.display="flex",document.body.style.overflow="hidden",setTimeout(()=>{s.classList.add("show")},10)}catch(e){console.error("Error showing speaker modal:",e),o.textContent="Speaker Information",r.innerHTML="<p>Unable to load speaker details. Please try again later.</p>",s.style.display="flex"}}hideSpeakerModal(){const e=document.getElementById("speakerModal");e&&(e.classList.remove("show"),setTimeout(()=>{e.style.display="none",document.body.style.overflow=""},300))}closeAllSpeakerBios(){const e=document.querySelectorAll(".speaker-bio"),t=document.querySelectorAll(".speaker-card.expanded");e.forEach(e=>e.classList.add("hidden")),t.forEach(e=>e.classList.remove("expanded"))}initSessionCards(){document.querySelectorAll(".session-card.clickable").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const s=e.dataset.sessionId;s&&this.showSessionModal(s)})})}initSessionModal(){document.getElementById("sessionModal")||this.createSessionModal(),document.addEventListener("click",e=>{const t=document.getElementById("sessionModal");t&&e.target===t&&this.hideSessionModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideSessionModal()})}createSessionModal(){document.body.insertAdjacentHTML("beforeend",'\n            <div id="sessionModal" class="session-modal" style="display: none;">\n                <div class="session-modal-content">\n                    <div class="session-modal-header">\n                        <h4 id="sessionModalTitle"></h4>\n                        <button type="button" class="btn-close" onclick="gsbConference.hideSessionModal()"></button>\n                    </div>\n                    <div class="session-modal-body">\n                        <div id="sessionModalContent"></div>\n                    </div>\n                </div>\n            </div>\n        ')}async showSessionModal(e){const t=document.getElementById("sessionModal"),s=document.getElementById("sessionModalTitle"),n=document.getElementById("sessionModalContent");if(t&&s&&n)try{const o=await this.getSessionData(e);if(o){s.textContent=o.title||"Session Details";let e='<div class="session-details">';if(o.startsAt||o.endsAt){const t=o.startsAt?new Date(o.startsAt).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!0}):"",s=o.endsAt?new Date(o.endsAt).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!0}):"";e+=`\n                        <div class="session-time mb-3">\n                            <i class="fas fa-clock me-2"></i>\n                            <strong>Time:</strong> ${t}${s?` - ${s}`:""}\n                        </div>\n                    `}if(o.room&&(e+=`\n                        <div class="session-room mb-3">\n                            <i class="fas fa-map-marker-alt me-2"></i>\n                            <strong>Room:</strong> ${o.room}\n                        </div>\n                    `),o.speakers&&o.speakers.length>0){e+=`\n                        <div class="session-speakers mb-3">\n                            <i class="fas fa-user me-2"></i>\n                            <strong>Speaker${o.speakers.length>1?"s":""}:</strong>\n                            <div class="speakers-list mt-2">\n                    `;(await this.getSpeakerDetails(o.speakers)).forEach(t=>{e+=`\n                            <div class="speaker-info d-flex align-items-center mb-2">\n                                ${t.profilePicture?`\n                                    <img src="${t.profilePicture}" alt="${t.fullName}" class="speaker-thumb me-3">\n                                `:""}\n                                <div>\n                                    <strong>${t.fullName}</strong>\n                                    ${t.tagLine?`<br><small class="text-muted">${t.tagLine}</small>`:""}\n                                </div>\n                            </div>\n                        `}),e+="</div></div>"}o.description&&(e+=`\n                        <div class="session-description mb-4">\n                            <h6>Description:</h6>\n                            <p>${o.description}</p>\n                        </div>\n                    `),e+="</div>",n.innerHTML=e}else this.showSessionModalFromHTML(e,t,s,n);t.style.display="flex",document.body.style.overflow="hidden",setTimeout(()=>{t.classList.add("show")},10)}catch(o){console.error("Error loading session data:",o),this.showSessionModalFromHTML(e,t,s,n),t.style.display="flex",document.body.style.overflow="hidden",setTimeout(()=>t.classList.add("show"),10)}else console.error("Session modal elements not found")}showSessionModalFromHTML(e,t,s,n){const o=document.querySelector(`[data-session-id="${e}"]`);if(o){const e=o.querySelector("h5"),t=o.querySelector("p strong"),i=o.querySelector(".session-desc"),a=this.getSessionTimeFromContext(o),r=this.getSessionRoomFromContext(o);s.textContent=e?e.textContent:"Session Details";let l='<div class="session-details">';a&&(l+=`\n                    <div class="session-time mb-3">\n                        <i class="fas fa-clock me-2"></i>\n                        <strong>Time:</strong> ${a}\n                    </div>\n                `),r&&(l+=`\n                    <div class="session-room mb-3">\n                        <i class="fas fa-map-marker-alt me-2"></i>\n                        <strong>Room:</strong> ${r}\n                    </div>\n                `),t&&(l+=`\n                    <div class="session-speaker mb-3">\n                        <i class="fas fa-user me-2"></i>\n                        <strong>Speaker:</strong> ${t.textContent}\n                    </div>\n                `),l+=i?`\n                    <div class="session-description mb-4">\n                        <h6>Description:</h6>\n                        <p>${i.textContent}</p>\n                    </div>\n                `:'\n                    <div class="session-description mb-4">\n                        <h6>About this Session:</h6>\n                        <p>Join us for this engaging session covering important topics in cybersecurity and Microsoft technologies.</p>\n                    </div>\n                ',l+="</div>",n.innerHTML=l}else s.textContent="Session Details",n.innerHTML="<p>Session information is not available at this time.</p>"}getSessionTimeFromContext(e){const t=e.closest("tr");if(t){const e=t.querySelector(".time-cell");if(e)return e.textContent.trim()}return null}getSessionRoomFromContext(e){const t=e.closest("td");if(t){const e=t.closest("tr");if(e){const s=e.querySelectorAll("td"),n=Array.from(s).indexOf(t);if(t.hasAttribute("colspan"))return"Main Conference Room";if(1===n)return"Left Room";if(2===n)return"Right Room"}}return"Main Conference Room"}hideSessionModal(){const e=document.getElementById("sessionModal");e&&(e.classList.remove("show"),setTimeout(()=>{e.style.display="none",document.body.style.overflow=""},300))}async getSessionData(e){try{const t=await fetch("https://sessionize.com/api/v2/2arq0ql8/view/All"),s=await t.json();this.sessionizeData=s;let n=null;if(s.sessions&&(n=s.sessions.find(t=>t.id===e)),!n&&s.groupedSessions)for(const t of s.groupedSessions)if(t.sessions&&(n=t.sessions.find(t=>t.id===e),n))break;return n}catch(e){return console.error("Error fetching session data from Sessionize API:",e),null}}async getSpeakerDetails(e){if(!this.sessionizeData||!this.sessionizeData.speakers)try{const e=await fetch("https://sessionize.com/api/v2/2arq0ql8/view/All");this.sessionizeData=await e.json()}catch(e){return console.error("Error fetching speaker data:",e),[]}const t=[];return e.forEach(e=>{const s=this.sessionizeData.speakers.find(t=>t.id===e);s&&t.push(s)}),t}initParallax(){this.parallaxElements=document.querySelectorAll(".hero-section"),this.updateParallaxElements()}updateParallaxElements(){if(!this.parallaxElements)return;const e=window.pageYOffset;this.parallaxElements.forEach(t=>{const s=-.5*e;t.style.transform=`translateY(${s}px)`})}handleResponsiveElements(){this.adjustMobileNavigation(),this.adjustScrollAnimations()}adjustMobileNavigation(){const e=document.querySelector(".navbar"),t=window.innerWidth<768;e&&(t?e.classList.add("mobile-nav"):e.classList.remove("mobile-nav"))}adjustScrollAnimations(){const e=window.innerWidth<768;document.querySelectorAll([".speaker-card",".pricing-card",".timeline-item"].join(", ")).forEach(t=>{e&&(t.style.transition="none",t.style.opacity="1",t.style.transform="none")})}static scrollToSection(e){const t=document.getElementById(e);if(t){const e=window.gsbConference;e&&e.scrollToElement(t)}}static showNotification(e,t="info"){const s=document.createElement("div");s.className=`alert alert-${t} position-fixed`,s.style.cssText="\n            top: 20px;\n            right: 20px;\n            z-index: 9999;\n            min-width: 300px;\n            opacity: 0;\n            transform: translateX(100%);\n            transition: all 0.3s ease;\n        ",s.innerHTML=`\n            <button type="button" class="btn-close" aria-label="Close"></button>\n            ${e}\n        `,document.body.appendChild(s),setTimeout(()=>{s.style.opacity="1",s.style.transform="translateX(0)"},100),setTimeout(()=>{s.style.opacity="0",s.style.transform="translateX(100%)",setTimeout(()=>s.remove(),300)},5e3);s.querySelector(".btn-close").addEventListener("click",()=>{s.style.opacity="0",s.style.transform="translateX(100%)",setTimeout(()=>s.remove(),300)})}}const gsbConference=new GSBConference;window.gsbConference=gsbConference,window.GSBConference=GSBConference,"undefined"!=typeof module&&module.exports&&(module.exports=GSBConference);